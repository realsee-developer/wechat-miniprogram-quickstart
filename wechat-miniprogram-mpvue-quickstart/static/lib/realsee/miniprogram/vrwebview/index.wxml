<view>
    <web-view wx:if="{{url}}" src="{{url}}" bindload="_handleWebViewLoad" binderror="_handleWebViewError"></web-view>
    <view wx:if="{{liveMode}}">
      <live-pusher wx:if="{{pusher}}"
        class="live-pusher"
        url="{{pusher.url}}"
        mode="{{pusher.mode}}"
        autopush="{{pusher.autopush}}"
        enable-camera="{{pusher.enableCamera}}"
        enable-mic="{{pusher.enableMic}}"
        muted="{{!pusher.enableMic}}"
        enable-agc="{{pusher.enableAgc}}"
        enable-ans="{{pusher.enableAns}}"
        enable-ear-monitor="{{pusher.enableEarMonitor}}"
        auto-focus="{{pusher.enableAutoFocus}}"
        zoom="{{pusher.enableZoom}}"
        min-bitrate="{{pusher.minBitrate}}"
        max-bitrate="{{pusher.maxBitrate}}"
        video-width="{{pusher.videoWidth}}"
        video-height="{{pusher.videoHeight}}"
        beauty="{{pusher.beautyLevel}}"
        whiteness="{{pusher.whitenessLevel}}"
        orientation="{{pusher.videoOrientation}}"
        aspect="{{pusher.videoAspect}}"
        device-position="{{pusher.frontCamera}}"
        remote-mirror="{{pusher.enableRemoteMirror}}"
        local-mirror="{{pusher.localMirror}}"
        background-mute="{{pusher.enableBackgroundMute}}"
        audio-quality="{{pusher.audioQuality}}"
        audio-volume-type="{{pusher.audioVolumeType}}"
        audio-reverb-type="{{pusher.audioReverbType}}"
        waiting-image="{{pusher.waitingImage}}"
        beauty-style="{{pusher.beautyStyle}}"
        filter="{{pusher.filter}}"
        bindstatechange="_pusherStateChangeHandler"
        bindnetstatus="_pusherNetStatusHandler"
        binderror="_pusherErrorHandler"
        bindbgmstart="_pusherBGMStartHandler"
        bindbgmprogress="_pusherBGMProgressHandler"
        bindbgmcomplete="_pusherBGMCompleteHandler"
        bindaudiovolumenotify="_pusherAudioVolumeNotify"
      />
      <view wx:for="{{playerList}}" wx:key="id" id="{{'player-'+item.streamID}}">
        <live-player
          class="live-player"
          id="{{item.id}}"
          data-streamid="{{item.streamID}}"
          src="{{item.src}}"
          mode="{{item.mode}}"
          autoplay="{{item.autoplay}}"
          mute-audio="{{item.muteAudio}}"
          mute-video="{{item.muteVideo}}"
          orientation="{{item.orientation}}"
          object-fit="{{item.objectFit}}"
          background-mute="{{item.enableBackgroundMute}}"
          min-cache="{{item.minCache}}"
          max-cache="{{item.maxCache}}"
          sound-mode="{{item.soundMode}}"
          enable-recv-message="{{item.enableRecvMessage}}"
          auto-pause-if-navigate="{{item.autoPauseIfNavigate}}"
          auto-pause-if-open-native="{{item.autoPauseIfOpenNative}}"
          debug="{{debugMode}}"
          bindstatechange="_playerStateChange"
          bindfullscreenchange="_playerFullscreenChange"
          bindnetstatus="_playerNetStatus"
          bindaudiovolumenotify="_playerAudioVolumeNotify"
        />
      </view>
    </view>
  </view>